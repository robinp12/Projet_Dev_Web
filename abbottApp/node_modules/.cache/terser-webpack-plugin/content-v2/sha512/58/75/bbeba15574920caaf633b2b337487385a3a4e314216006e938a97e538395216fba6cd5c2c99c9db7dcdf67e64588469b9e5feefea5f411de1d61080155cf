{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"app\"],{ng4s:function(e,t,n){\"use strict\";n.r(t);n(\"pNMO\"),n(\"4Brf\"),n(\"0oug\"),n(\"J30X\"),n(\"4mDm\"),n(\"DQNa\"),n(\"zKZe\"),n(\"07d7\"),n(\"JfAA\"),n(\"PKPk\"),n(\"3bBZ\");var a=n(\"q1tI\"),r=n.n(a),o=n(\"i8i4\"),l=n.n(o),c=(n(\"sZ/o\"),n(\"vDqi\")),i=n.n(c);var u=n(\"BOF4\"),s=n.n(u);function m(e){i.a.defaults.headers.Authorization=\"Bearer \"+e}var p={authenticate:function(e){return i.a.post(\"http://localhost:8000/api/login_check\",e).then((function(e){return e.data.token})).then((function(e){window.localStorage.setItem(\"authToken\",e),m(e)}))},logout:function(){window.localStorage.removeItem(\"authToken\"),delete i.a.defaults.headers.Authorization},setup:function(){var e=window.localStorage.getItem(\"authToken\");e&&s()(e).exp>(new Date).getTime()/1e3&&m(e)},isAuthenticated:function(){var e=window.localStorage.getItem(\"authToken\");return!!e&&s()(e).exp>(new Date).getTime()/1e3}},f=n(\"55Ip\"),b=r.a.createContext({isAuthenticated:!1,setIsAuthenticated:function(e){}}),d=function(e){var t=e.history,n=Object(a.useContext)(b),o=n.isAuthenticated,l=n.setIsAuthenticated;return r.a.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-danger\"},r.a.createElement(f.b,{className:\"navbar-brand\",to:\"/\"},\"Abbott\"),r.a.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarColor01\",\"aria-controls\":\"navbarColor01\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},r.a.createElement(\"span\",{className:\"navbar-toggler-icon\"})),r.a.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarColor01\"},r.a.createElement(\"ul\",{className:\"navbar-nav mr-auto\"},r.a.createElement(\"li\",{className:\"nav-item active\"},r.a.createElement(f.b,{className:\"nav-link\",to:\"/conferences\"},\"Conferences\"))),r.a.createElement(\"ul\",{className:\"navbar-nav ml-auto\"},!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(\"li\",{className:\"nav-item\"},r.a.createElement(f.b,{to:\"/register\",className:\"btn btn-light ml-2 mr-2\"},\"Inscription\")),r.a.createElement(\"li\",{className:\"nav-item\"},r.a.createElement(f.b,{to:\"/login\",className:\"btn btn-light ml-2 mr-2\"},\"Connexion\")))||r.a.createElement(\"li\",{className:\"nav-item\"},r.a.createElement(\"button\",{onClick:function(){p.logout(),l(!1),t.push(\"/login\")},className:\"btn btn-danger\"},\"Déconnexion\")))))},h=function(e){return r.a.createElement(\"h1\",null,\"Page D'accueil\")},v=n(\"Ty5D\");n(\"TeQF\"),n(\"pjDv\"),n(\"2B1R\"),n(\"sMBO\");function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var E=function(e){var t=y(Object(a.useState)([]),2),n=t[0],o=t[1];Object(a.useEffect)((function(){i.a.get(\"http://localhost:8000/api/conferences\").then((function(e){return e.data[\"hydra:member\"]})).then((function(e){return o(e)})).catch((function(e){return console.log(e.response)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h1\",null,\"Liste des conférences\"),r.a.createElement(\"table\",{className:\"table table-hover\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Identifiant\"),r.a.createElement(\"th\",null,\"Nom\"),r.a.createElement(\"th\",null,\"Description\"))),r.a.createElement(\"tbody\",null,n.map((function(e){return r.a.createElement(\"tr\",{key:e.id},r.a.createElement(\"td\",null,e.id),r.a.createElement(\"td\",null,e.name),r.a.createElement(\"td\",null,e.description),r.a.createElement(\"td\",null,r.a.createElement(\"button\",{onClick:function(){return t=e.id,a=g(n),o(n.filter((function(e){return e.id!==t}))),void i.a.delete(\"http://localhost:8000/api/conferences/\"+t).catch((function(e){o(a)}));var t,a},className:\"btn btn-sm btn-danger\"},\"Supprimer\")))})))))},w=(n(\"QWBl\"),n(\"HRxU\"),n(\"eoL8\"),n(\"5DmW\"),n(\"27RR\"),n(\"tkto\"),n(\"5s+n\"),n(\"rB9j\"),n(\"UxlC\"),n(\"FZtP\"),n(\"ls82\"),function(e){var t=e.name,n=e.label,a=e.value,o=e.onChange,l=e.placeholder,c=e.type,i=void 0===c?\"text\":c,u=e.error,s=void 0===u?\"\":u;return r.a.createElement(\"div\",{className:\"form-group\"},r.a.createElement(\"label\",{htmlFor:t},n),r.a.createElement(\"input\",{type:i,className:\"form-control\"+(s&&\" is-invalid\"),placeholder:l,name:t,id:t,value:a,onChange:o}),s&&r.a.createElement(\"p\",{className:\"invalid-feedback\"},s))});function O(e,t,n,a,r,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var S=function(e){var t=e.history,n=Object(a.useContext)(b).setIsAuthenticated,o=N(Object(a.useState)({username:\"simon.mohimont@hotmail.com\",password:\"password\"}),2),l=o[0],c=o[1],i=function(e){var t=e.currentTarget,n=t.value,a=t.name;c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l,A({},a,n)))},u=N(Object(a.useState)(\"\"),2),s=u[0],m=u[1],f=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,p.authenticate(l);case 4:m(\"\"),n(!0),t.replace(\"/\"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m(\"Le nom d'utilisateur et le mot de passe ne correspondent pas\");case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){O(o,a,r,l,c,\"next\",e)}function c(e){O(o,a,r,l,c,\"throw\",e)}l(void 0)}))});return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h1\",null,\"Connexion à l'app\"),r.a.createElement(\"form\",{action:\"\",onSubmit:f},r.a.createElement(w,{label:\"Adresse email\",name:\"username\",value:l.username,placeholder:\"Adresse email de Connexion\",onChange:i,type:\"email\",error:s}),r.a.createElement(w,{label:\"Mot de passe\",name:\"password\",value:l.password,onChange:i,type:\"password\",error:\"\"}),r.a.createElement(\"div\",{className:\"form-group\"},r.a.createElement(\"button\",{type:\"submit\",className:\"btn btn-success\"},\"Se connecter\"))))},x=function(e){var t=e.path,n=e.component;return Object(a.useContext)(b).isAuthenticated?r.a.createElement(v.b,{path:t,component:n}):r.a.createElement(v.a,{to:\"/login\"})};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}p.setup();var P=document.querySelector(\"#app\");l.a.render(r.a.createElement((function(){var e=C(Object(a.useState)(p.isAuthenticated()),2),t=e[0],n=e[1],o=Object(v.f)(d);return r.a.createElement(b.Provider,{value:{isAuthenticated:t,setIsAuthenticated:n}},r.a.createElement(f.a,null,r.a.createElement(o,null),r.a.createElement(\"main\",{className:\"container mt-5\"},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:\"/login\",render:function(e){return r.a.createElement(S,k({onLogin:n},e))}}),r.a.createElement(x,{path:\"/conferences\",component:E}),r.a.createElement(v.b,{path:\"/\",component:h})))))}),null),P)},\"sZ/o\":function(e,t,n){}},[[\"ng4s\",\"runtime\",0]]]);","extractedComments":[]}